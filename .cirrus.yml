container:
  image: google/dart-runtime:dev

app_task:
  env:
    matrix:
      # TODO(dnfield): Enable this.
      # - CWD: app
      - CWD: app_dart
  pub_script: cd $CWD && pub get
  build_script: cd $CWD && pub run build_runner build --delete-conflicting-outputs
  analyze_script: ./analyze.sh $CWD
  test_script: cd $CWD && pub run test -r expanded
